# magento
=== Plugin Name ===

Contributors: (*****)

Donate link: https://irisbgsf.com

Tags: tag1, tag2

Requires at least: 2.0

Tested up to: 3.0

License URI: https://www.gnu.org/licenses/gpl-2.0.html

Представяне на модула "Pay By Bank" за Magento от IRIS Solutions Модула "Pay By Bank" за Magento от IRIS Solutions може много лесно да се интегрира във вашия онлайн магазин и да предоставите възможност клиентите ви да плащат директно от банковата си сметка. Това вече е възможно чрез въвеждане на т.нар. отворено банкиране на банковите пазари на всички страни членки на Европейския съюз. Модулът представлява софтуерен платежен терминал, който замества добре познатите картови плащания с плащания от типа "сметка към сметка". Ако желаете да се запознаете с разновидностите на платежните терминали базирани на отворено банкиране и предлагани от IRIS Solutions може да посетите - регистриране на търговци

За Айрис Солюшънс ООД IRIS Solutions е платежна институция, лицензирана от Българска Народна Банка. Съгласно предоставения лиценз дружеството може да предоставя платежни услуги по чл.4, т.7 и 8 от ЗПУПС – услуги по иницииране на плащане и услуги по предоставяне на информация по сметка. Притежаваме лиценз за европейски доставчик на платежни услуги (PSP) в съответствие с Втората директива за платежните услуги (PSD2). IRIS Solutions е интегрирала в своя хъб повече от 40 банки и платежни институции от България, Румъния и Гърция и може да осъществи плащания в български лев, евро и румънски леи. Повече за IRIS Solutions и услугите предоставяни от дружеството може да откриете на: https://www.irisbgsf.com/

Какво означава плащане директно от банковата сметка? Лицензът на IRIS Solutions позволява да инициира плащане от банковата сметка на клиент без да е необходимо той да е в някой от дигиталните канали на банката, като интернет и мобилно банкиране. По своята същност плащанията инициирани от IRIS Solutions се изпълняват като кредитен превод от сметката на платеца към сметката на търговеца. Плащанията могат да бъдат изпълнени чрез стандартен или незабавен (instant / blink) кредитен превод съгласно желанието на търговеца и техническата обезпеченост на банката на платеца.

Стъпките на плащането включват: Интегриране на модула "Pay By Bank" за Magento в онлайн магазина на търговеца. При избор на бутон "Pay By Bank" на клиента ще бъде показан списък от банки с които IRIS Solutions е осъществило директна интеграция. Клиента избира своята банка и IRIS Solutions ще го пренасочи в среда на банката за да провери наличността по сметката и ауторизира плащането. Клиента потвърждава плащането в среда на банката чрез метода за аутентикация предоставен му от неговата банка. Разновидности на метода за аутентикация са еднократен код изпратен чрез SMS, софтуерен токън, сканиране на QR код или друг. IRIS Solutions информира търговеца за статуса на плащането.

Какви са предимствата на плащанията чрез отворено банкиране? Много по-евтини от стандартните виртуални (картови) посове. Не изисква откриване на нова сметка, може спокойно да използвате вече налична във вашата обслужваща банка. В комбинация с инстантни плащания средствата от плащането могат да са налични по сметката на търговеца за 10 секунди. Интегрирана опция за Reverse & Refund. Изключително сигурен начин на плащане без споделяне на чувствителни данни и възможност за fraud.

Изисквания За да инсталирате модула вие се нуждаете от: Magento Version 2.0 или по-нов. Профил на търговец регистриран в портала на IRIS Solutions Регистриране на профил на търговец в портал на IRIS Solutions За да можете да приемате плащания чрез модула "Pay By Bank" на IRIS Solutions е необходимо да се регистрирате в търговския портал на дружеството на адрес - портал за регистриране на търговци Търговския портал ви предоставя възможност да следите плащанията направени от всички ваши обекти / магазини, ръчно генериране на платежен линк или QR код, управление на достъпа на лица с права за достъп до платежни данни и др.

Процедурата по регистрация включва следните стъпки:

Заявка за регистрация С посещението на търговския портал на IRIS Solutions ще бъдете поканен да въведете идентификационни данни за дружеството и регистрирате основен потребител за това дружество. При успешно завършена заявка ще получите уведомително съобщение на адреса на електронната поща на основния потребител. Същото съдържа информация за следващите стъпки.
Идентификация на представляващ дружеството Бъдейки лицензирана платежна институция Айрис Солюшънс ООД е задължена да осъществи идентификация на своите клиенти, включително представляващи / управляващи на търговските дружества. За целта дружеството е разработило собствен напълно дигитализиран процес, който да улесни идентификацията и включва следните стъпки:
Проверка в търговския регистър за представляващи / управляващи дружеството.
Избор на представляващ, който да премине през процеса по идентификация на дружеството - избира се от падащо меню от лицата с представителна власт посочени в Търговския регистър.
Сканиране / снимка на лице и гръб на документ за самоличност на представляващия.
Запис на кратко видео за верифициране на представляващия.
Попълване на декларации за видна политическа личност и действителен собственик на дружеството.
При правилно изпълнение на горните стъпки идентификацията следва да бъде автоматично одобрена. За пълно описание на процеса по идентификация моля последвайте следния линк - KYC ръководство
Онлайн подписване на договор На тази стъпка ще бъдете поканен да свалите електронен документ включващ стандартизиран договор и финансови условия за услуга Платежен терминал на IRIS Solutions. Подписването на документа може да осъществите дигитално чрез Квалифициран електронен подпис или чрез разпечатване, подписване и сканиране на подписания хартиен носител. За да приключите стъпката е необходимо да качите подписания документ в средата на портала. След като качите подписания документ от предходната стъпка, процеса по регистрация подлежи на верификация от служител на IRIS Solutions и получаване на окончателно одобрение. За целта ще бъдете информирани в рамките на 24 часа със съобщение на адрес на електронна поща посочен в заявката за регистрация.
Регистриране на сметка За да регистрирате сметка по която да получавате средства от плащания на клиенти към Вас следва да преминете през процеса по предоставяне на съгласие за достъп на IRIS Solutions до нея.
Видео на процедурата по даване на съгласие за вашата банка може да видите на следните линове:

Алианц Банк - https://youtu.be/RbA2Dt8PAi0

ДБанк - https://youtu.be/PZkm-WR50gI

Банка ДСК Токън - https://youtu.be/BqguivBCwEE

Банка ДСК СМС - https://youtu.be/1IDitwD6FmI

Уникредит Булбанк - https://youtu.be/8uynjx2eWWQ

Револют - https://youtu.be/shO7404UL64

ЦКБ - https://youtu.be/H5bgVRF_v2U

Fibank - https://youtu.be/ud5J_JQRQLM

Интернешънъл Асет Банк - https://youtu.be/6DGZR03I0Nc

Инвест банк - https://youtu.be/stkBzDHCfhs

ОББ - https://youtu.be/KreB6X95AdU

Прокредит - https://youtu.be/shO7404UL64

Пощенска банка - https://youtu.be/5Rx-LCTfMZ0

KBC (Райфайзен) - https://youtu.be/2kLKoiXpOFA

ТБИ Банк - https://youtu.be/KrdKKvSBCiU

Процедурата за даване на съгласие само потвърждава пред IRIS Solutions, че сте титуляр или лице с права по сметката, ние няма да използваме съгласието за цели различни от посочената по-горе. 5. Регистриране на обект Обект/магазин е единица през която ще бъде осъществявана търговската дейност на търговеца. Като такъв може да регистрирате един електронен магазин със съответен адрес за достъп до него. Регистрирането на обект, ще приключи с генерирането на ключ, който ще използвате при активиране на модула. За да се запознаете с пълното указание за регистрация и използване на търговския портал на IRIS Solutions, моля последвайте: Портал за търговци - ръководство

Инсталиране на модула За да инсталирате успешно модул "Pay By Bank" за Magento от IRIS Solutions следвайте следните стъпки:

Директно качване на файловете през FTP (SFTP)
	•	Разархивирайте получения архив. Резултатът изглежда така Фигура 1.

Фигура 1. Файлове на модула
	•	Създайте директория [MAGENTO_INSTALL_DIR]/app/code/IrisSolutions/PayByBank/ и качете файловете от архива в нея.

ИНСТАЛАЦИЯ
Стартирайте последователно всяка от командите в терминала на сървъра, докато се намирате в главната директория на magento.
php bin/magento setup:upgrade
php bin/magento setup:di:compile
php bin/magento setup:static-content-deploy

ИЗИЧИСТВАНЕ НА КЕШ
php bin/magento cache:flush

Pay by bank (by iris solutions)
Инструкция за конфигуриране

Модула се конфигурира от: Магазини (Stores) – Конфигурация (Configuration) – Продажби (Sales) – Методи на плащане (Payment Methods) (вж. Фигура 2.)

Фигура 2. Настройки на модула
Включване и активиране на модула.
	•	Включете с избор на „Да/Yes” - (Enable)
  •	Възможни са два режима на работа Sandbox/Prodution ако в поле Sandbox сте избрали „Да/Yes” ще работите в тестови режим, при „Не/No” ще работите в продукционен режим.
	•	Въведете Merchant Key (който сте получили от IRIS Solutions). 
	•	Merchant Account (IBAN) - следва да настроите сметките и техните валути, предварително регистрирани в Търговския портал на IRIS Solutions.
	•	Запишете.
Това е всичко, можете да видите метода в страницата за поръчка.

Заглавие - указателен текст, служещ за идентифициране на метода на плащане (в случай че имате повече от един). Tекст, указващ че плащането е "Iris Pay Payment" (може да въведете ваш текст);
Описание - описанието, което потребителя вижда по време на плащане (може да въведете ваш текст);
IRIS Pay By Bank - Merchant Key - ключ получен при регистрация в портала за търговци на IRIS Solutions;
IRIS Pay By Bank - Merchant Account (IBAN) - сметка за получаване на плащания, регистрирана в портала за търговци на IRIS Solutions;
Кратко описание на плащането - описанието ще присъства във формуляра за паричен превод на банката, в полето "описание", до 34 символа;
Пълно описание на плащането - описанието ще присъства само в системата на IRIS Solutions;
Валута: - (BGN, EUR, RON) валутите които се обслужват от IRIS Solutions. 
Анулиране на чакащи поръчки след (часа) - 72 часа е максималния период, за който IRIS Solutions очаква промяна в статуса на плащане. След този период плащанията се анулират.
Очаквани статуси на плащания с "Pay By Bank" за Magento от IRIS Solutions 
WAITTING - в очакване на потвърждение и последващ краен статус на плащане; 
CONFIRMED - успешно плащане; 
FAILED - отказано / неуспешно плащане.
Получаване на съдействие За отстраняване на неизправности, решения на проблем, съдействие при инсталиране/настройки или отговор на въпроси моля, свържете се с екипа за поддръжка. Екипът за поддръжка може да бъде достигнат на следния емайл: support@irisbgsf.com

